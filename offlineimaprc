[general]
accounts = sundhall.se
pythonfile = ~/.offlineimap/keychain.py

[Account sundhall.se]
localrepository = sundhall.se_local
remoterepository = sundhall.se_remote
postsynchook = ~/bin/notify_email

[Repository sundhall.se_local]
type = Maildir
localfolders = ~/.mail/sundhall.se
nametrans = lambda folder: {'inbox': 'INBOX',
                            'archive': 'INBOX.Archive',
                            'drafts': 'INBOX.Drafts',
                            'sent': 'INBOX.Sent Items',
                            'trash': 'INBOX.Trash',
                            'spam': 'INBOX.Junk Mail',
                              }.get(folder, folder)

[Repository sundhall.se_remote]
type = IMAP
remotehost = mail.messagingengine.com
remoteport = 993
remoteuser = patrik@sundhall.se
remotepasseval = get_keychain_pass(account="patrik@sundhall.se", server="mail.messagingengine.com")
ssl = yes
sslcacertfile = /usr/local/etc/openssl/cert.pem
nametrans = lambda folder: {'INBOX': 'inbox',
                            'INBOX.Archive': 'archive',
                            'INBOX.Drafts': 'drafts',
                            'INBOX.Sent Items': 'sent',
                            'INBOX.Trash': 'trash',
                            'INBOX.Junk Mail': 'spam',
                              }.get(folder, folder)

expunge = no
